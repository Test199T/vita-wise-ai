# üß™ ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö Onboarding API Integration

## ‚úÖ ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß:

### 1. **‡πÄ‡∏û‡∏¥‡πà‡∏° API Methods:**
- `saveOnboardingData()` - ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• onboarding ‡πÑ‡∏õ backend
- `convertOnboardingToProfile()` - ‡πÅ‡∏õ‡∏•‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• onboarding ‡πÄ‡∏õ‡πá‡∏ô user profile format
- `createUserProfile()` - ‡∏™‡∏£‡πâ‡∏≤‡∏á profile ‡πÉ‡∏´‡∏°‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö user ‡πÉ‡∏´‡∏°‡πà

### 2. **‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï OnboardingContext:**
- `completeOnboarding()` ‡πÄ‡∏õ‡πá‡∏ô async function
- ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö API service
- Error handling ‡∏Å‡∏£‡∏ì‡∏µ backend ‡∏•‡πà‡∏°

### 3. **‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Onboarding Page:**
- `handleNext()` ‡πÄ‡∏õ‡πá‡∏ô async ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢
- ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å API ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏î "‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÄ‡∏•‡∏¢!"

## üß™ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏î‡∏™‡∏≠‡∏ö:

### 1. **‡πÄ‡∏õ‡∏¥‡∏î Browser DevTools:**
```
‡∏Å‡∏î F12 ‚Üí Console tab
```

### 2. **‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤ Onboarding:**
```
http://localhost:8080/onboarding
```

### 3. **‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô:**
- ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î
- ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û
- ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢
- ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 4: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô
- ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 5: ‡∏£‡∏∞‡∏ö‡∏∏‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û
- ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 6: ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°

### 4. **‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢ - ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° "‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÄ‡∏•‡∏¢!"**

### 5. **‡∏î‡∏π Console Logs:**
‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô logs ‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏ô‡∏µ‡πâ:
```
üéØ Completing onboarding and saving to backend...
üéØ Saving onboarding data to backend... {data}
üìù Converted profile data: {converted data}
Trying PUT /users/profile
Trying POST /users/profile
...
```

## üìã ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡πÄ‡∏à‡∏≠:

### ‚úÖ **‡∏Å‡∏£‡∏ì‡∏µ Backend ‡∏°‡∏µ Endpoint:**
```
‚úÖ Profile created with POST /users/profile
Profile created successfully: {profile data}
‚úÖ Onboarding completed successfully!
‚Üí ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ Dashboard
```

### ‚ùå **‡∏Å‡∏£‡∏ì‡∏µ Backend ‡πÑ‡∏°‡πà‡∏°‡∏µ Endpoint:**
```
‚ùå POST /users/profile not found, trying next...
‚ùå PUT /users/profile not found, trying next...
‚ùå No working profile creation endpoint found!
Profile creation endpoint not found...
‚Üí ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô: "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÅ‡∏•‡πâ‡∏ß..."
‚Üí ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ Dashboard (‡πÅ‡∏ï‡πà‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤ database)
```

## üîç ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°:

### 1. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Network Tab:**
- ‡∏î‡∏π API calls ‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡πÑ‡∏õ
- ‡∏î‡∏π request body ‡∏ß‡πà‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏´‡∏°
- ‡∏î‡∏π response status

### 2. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Backend Logs:**
```bash
# ‡∏î‡∏π backend terminal ‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô:
[Nest] DEBUG [AuthGuard] Token verified for user: xxx
[Nest] ERROR Cannot POST /users/profile (‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ endpoint)
```

### 3. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Database:**
- ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡∏î‡∏π Supabase
- ‡∏ï‡∏≤‡∏£‡∏≤‡∏á users ‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏´‡∏°

## üõ†Ô∏è Backend ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á:

Backend ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ endpoint ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÉ‡∏î‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏´‡∏ô‡∏∂‡πà‡∏á:
- `POST /users/profile` (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)
- `PUT /users/profile`
- `POST /user/profile`
- `PUT /user/profile`
- `POST /profile`

## üìù ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡πÑ‡∏õ Backend:

```json
{
  "first_name": "",
  "last_name": "",
  "date_of_birth": "1990-01-01",
  "gender": "male",
  "height_cm": 175,
  "weight_kg": 70,
  "activity_level": "moderately_active"
}
```

## üéØ ‡∏™‡∏£‡∏∏‡∏õ:

‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏£‡∏∞‡∏ö‡∏ö Onboarding:
1. ‚úÖ ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô localStorage
2. ‚úÖ ‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏õ Backend
3. ‚úÖ ‡∏°‡∏µ Error handling ‡∏Å‡∏£‡∏ì‡∏µ Backend ‡∏•‡πà‡∏°
4. ‚úÖ ‡πÅ‡∏™‡∏î‡∏á Console logs ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô
5. ‚ö†Ô∏è ‡∏¢‡∏±‡∏á‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á Backend endpoint

**‡∏•‡∏≠‡∏á‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏î‡∏π‡∏Ñ‡∏£‡∏±‡∏ö ‡πÅ‡∏•‡πâ‡∏ß‡∏î‡∏π Console logs ‡∏ß‡πà‡∏≤‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏õ API ‡πÑ‡∏´‡∏°!**
