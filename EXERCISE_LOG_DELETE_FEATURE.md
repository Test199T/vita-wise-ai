# ฟีเจอร์การลบข้อมูลการออกกำลังกาย (Exercise Log Delete Feature)

## ภาพรวม
ฟีเจอร์นี้ช่วยให้ผู้ใช้สามารถลบข้อมูลการออกกำลังกายออกจากระบบได้ ทั้งจาก Frontend และ Backend

## ฟังก์ชันหลัก

### 1. ฟังก์ชันลบข้อมูล (`deleteSession`)
- **ตำแหน่ง**: `src/pages/ExerciseLog.tsx` บรรทัด 230-270
- **การทำงาน**: 
  - เรียกใช้ API DELETE `{{base_url}}/exercise-log/{{exercise-log_id}}`
  - ลบข้อมูลออกจาก localStorage และ state
  - แสดง toast notification เมื่อสำเร็จหรือเกิดข้อผิดพลาด

### 2. API Service (`deleteExerciseLog`)
- **ตำแหน่ง**: `src/services/api.ts` บรรทัด 1050-1090
- **Endpoint**: `DELETE /exercise-log/{exercise-log-id}`
- **การจัดการ Error**:
  - 401: Unauthorized - กรุณาเข้าสู่ระบบใหม่
  - 403: Forbidden - ไม่มีสิทธิ์ในการลบข้อมูล
  - 404: Not Found - ไม่พบข้อมูลที่ต้องการลบ
  - 500: Internal Server Error - เกิดข้อผิดพลาดที่เซิร์ฟเวอร์
  - Network Error - ไม่สามารถเชื่อมต่อกับเซิร์ฟเวอร์ได้
  - Timeout Error - การลบข้อมูลใช้เวลานานเกินไป

### 3. ฟังก์ชันโหลดข้อมูลจาก Backend (`loadExerciseLogsFromBackend`)
- **การทำงาน**: โหลดข้อมูลการออกกำลังกายจาก Backend เมื่อเปิดหน้า
- **การแปลงข้อมูล**: แปลงข้อมูลจาก Backend format เป็น Frontend format
- **การจัดการ State**: อัพเดท localStorage และ state ให้ตรงกับ Backend

### 4. ปุ่มรีเฟรช
- **ตำแหน่ง**: ด้านขวาของหัวข้อ "บันทึกการออกกำลังกาย"
- **การทำงาน**: โหลดข้อมูลใหม่จาก Backend
- **สถานะ**: แสดง "กำลังโหลด..." และ disable ปุ่มขณะโหลด

## การใช้งาน

### การลบข้อมูล
1. คลิกปุ่ม "ลบ" ที่รายการการออกกำลังกายที่ต้องการลบ
2. ระบบจะแสดง dialog ยืนยันการลบ
3. คลิก "ลบ" เพื่อยืนยัน
4. ระบบจะลบข้อมูลจาก Backend และ Frontend
5. แสดง toast notification เมื่อสำเร็จ

### การโหลดข้อมูลใหม่
1. คลิกปุ่ม "รีเฟรช" เพื่อโหลดข้อมูลใหม่จาก Backend
2. ระบบจะแสดงสถานะ "กำลังโหลด..." และ disable ปุ่ม
3. เมื่อโหลดเสร็จ จะแสดง toast notification พร้อมจำนวนรายการที่โหลดได้

## การจัดการ Error

### Error ที่ Backend
- **401/403**: แสดงข้อความเกี่ยวกับสิทธิ์การเข้าถึง
- **404**: แสดงข้อความว่าไม่พบข้อมูล
- **500**: แสดงข้อความเกี่ยวกับข้อผิดพลาดที่เซิร์ฟเวอร์

### Error ที่ Frontend
- **Network Error**: แสดงข้อความเกี่ยวกับการเชื่อมต่ออินเทอร์เน็ต
- **Timeout Error**: แสดงข้อความเกี่ยวกับการลบข้อมูลที่ใช้เวลานาน

## การแสดงผลเมื่อไม่มีข้อมูล
- แสดงข้อความ "ไม่มีข้อมูลการออกกำลังกาย"
- แสดงไอคอน Dumbbell ขนาดใหญ่
- มีปุ่ม "เพิ่มการออกกำลังกายแรก" เพื่อให้ผู้ใช้เริ่มต้นได้ทันที

## การ Sync ข้อมูล
- ข้อมูลจะถูก sync ระหว่าง Frontend และ Backend
- เมื่อลบข้อมูลสำเร็จ จะถูกลบออกจากทั้งสองที่
- เมื่อโหลดข้อมูลใหม่ จะอัพเดท Frontend ให้ตรงกับ Backend

## ข้อควรระวัง
1. การลบข้อมูลไม่สามารถยกเลิกได้
2. ต้องมีสิทธิ์การเข้าถึงที่ถูกต้อง
3. ข้อมูลที่ลบแล้วจะหายไปถาวร
4. ควรตรวจสอบการเชื่อมต่ออินเทอร์เน็ตก่อนลบข้อมูล

## การทดสอบ
1. ลบข้อมูลการออกกำลังกายที่มีอยู่
2. ตรวจสอบว่าข้อมูลถูกลบออกจาก Backend
3. รีเฟรชหน้าเพื่อตรวจสอบว่าข้อมูลยังคงถูกลบอยู่
4. ทดสอบการลบข้อมูลที่ไม่มีการเชื่อมต่ออินเทอร์เน็ต
5. ทดสอบการลบข้อมูลที่ไม่มีสิทธิ์
