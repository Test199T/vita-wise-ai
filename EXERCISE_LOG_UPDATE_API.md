# ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô API ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢

## üöÄ API Endpoint

### URL
```
PUT http://localhost:8080/exercise-log/{id}
```

### Parameters
- `{id}`: ID ‡∏Ç‡∏≠‡∏á exercise log ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï

### Headers
```
Content-Type: application/json
Authorization: Bearer {token}  // ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ token
```

## üìù Request Body

### ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
```json
{
  "exercise_name": "Cycling",
  "exercise_type": "cardio",
  "duration_minutes": 45,
  "sets": null,
  "reps": null,
  "weight_kg": null,
  "distance_km": 15.0,
  "calories_burned": 400,
  "intensity": "high",
  "notes": "Evening cycling",
  "exercise_date": "2024-01-20",
  "exercise_time": "18:30:00"
}
```

### ‡∏ü‡∏¥‡∏•‡∏î‡πå‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô
- `exercise_name`: ‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢
- `exercise_type`: ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢
- `duration_minutes`: ‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤ (‡∏ô‡∏≤‡∏ó‡∏µ)
- `calories_burned`: ‡πÅ‡∏Ñ‡∏•‡∏≠‡∏£‡∏µ‡∏ó‡∏µ‡πà‡πÄ‡∏ú‡∏≤‡∏ú‡∏•‡∏≤‡∏ç
- `intensity`: ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ô‡∏±‡∏Å
- `exercise_date`: ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢
- `exercise_time`: ‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢

### ‡∏ü‡∏¥‡∏•‡∏î‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏î‡πâ
- `sets`: ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏ã‡πá‡∏ï (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏¢‡∏Å‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å)
- `reps`: ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ï‡πà‡∏≠‡πÄ‡∏ã‡πá‡∏ï
- `weight_kg`: ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å (‡∏Å‡∏Å.)
- `distance_km`: ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á (‡∏Å‡∏°.)
- `notes`: ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏

## ‚úÖ Response

### Success (200 OK)
```json
{
  "data": {
    "id": 123,
    "exercise_name": "Cycling",
    "exercise_type": "cardio",
    "duration_minutes": 45,
    "sets": null,
    "reps": null,
    "weight_kg": null,
    "distance_km": 15.0,
    "calories_burned": 400,
    "intensity": "high",
    "notes": "Evening cycling",
    "exercise_date": "2024-01-20",
    "exercise_time": "18:30:00"
  },
  "message": "Exercise log updated successfully"
}
```

### Error Responses

#### 400 Bad Request
```json
{
  "message": "Invalid data provided",
  "errors": {
    "duration_minutes": ["Duration must be greater than 0"],
    "calories_burned": ["Calories must be greater than 0"]
  }
}
```

#### 401 Unauthorized
```json
{
  "message": "Authentication required",
  "status": 401
}
```

#### 403 Forbidden
```json
{
  "message": "You don't have permission to update this exercise log",
  "status": 403
}
```

#### 404 Not Found
```json
{
  "message": "Exercise log not found",
  "status": 404
}
```

#### 500 Internal Server Error
```json
{
  "message": "Internal server error",
  "status": 500
}
```

## üîß ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÉ‡∏ô Frontend

### 1. ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô updateExerciseLog ‡πÉ‡∏ô api.ts
```typescript
async updateExerciseLog(exerciseLogId: string | number, updateData: Partial<ExerciseLog>): Promise<ExerciseLog>
```

### 2. ‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡πÉ‡∏ô ExerciseLog.tsx
```typescript
const handleUpdate = async (e: React.FormEvent) => {
  e.preventDefault();
  
  // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö backend_id
  if (!sessionToUpdate.backend_id) {
    throw new Error('‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ ‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡πÑ‡∏°‡πà‡∏û‡∏ö ID ‡∏à‡∏≤‡∏Å Backend');
  }

  // ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å API
  const updatedExercise = await apiService.updateExerciseLog(
    sessionToUpdate.backend_id, 
    updateData
  );
  
  // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï state
  // ...
};
```

## üß™ ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö

### 1. ‡πÉ‡∏ä‡πâ Postman ‡∏´‡∏£‡∏∑‡∏≠ cURL
```bash
curl -X PUT \
  http://localhost:8080/exercise-log/123 \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -d '{
    "exercise_name": "Cycling",
    "exercise_type": "cardio",
    "duration_minutes": 45,
    "calories_burned": 400,
    "intensity": "high",
    "exercise_date": "2024-01-20",
    "exercise_time": "18:30:00"
  }'
```

### 2. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÉ‡∏ô Frontend
1. ‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤ ExerciseLog
2. ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° "‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" ‡∏ó‡∏µ‡πà‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢
3. ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏ü‡∏≠‡∏£‡πå‡∏°
4. ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° "‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï"
5. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Console ‡πÅ‡∏•‡∏∞ Network tab

## üìã ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö

### Console Logs
```
‚úèÔ∏è ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï: {...}
üÜî Backend ID ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï: 123
‚úèÔ∏è Updating exercise log entry... 123
üåê API URL: http://localhost:8080/exercise-log/123
üìù Update data: {...}
üîë Token found: eyJhbGciOiJIUzI1NiIs...
üì° Update exercise log API response: {...}
‚úÖ Exercise log updated successfully from backend
üìÑ Updated data: {...}
‚úÖ ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à: {...}
```

### Network Tab
- Method: PUT
- URL: http://localhost:8080/exercise-log/123
- Status: 200 OK
- Request Body: JSON data
- Response: Updated exercise log

## üö® ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢

#### 1. ‡πÑ‡∏°‡πà‡∏û‡∏ö backend_id
- **‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏**: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÇ‡∏´‡∏•‡∏î‡∏à‡∏≤‡∏Å Backend
- **‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ**: ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° "‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä"

#### 2. 401 Unauthorized
- **‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏**: Token ‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- **‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ**: ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà

#### 3. 404 Not Found
- **‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏**: ID ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ñ‡∏π‡∏Å‡∏•‡∏ö‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß
- **‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ**: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö ID ‡πÅ‡∏•‡∏∞‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

#### 4. 400 Bad Request
- **‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏**: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡πÑ‡∏õ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- **‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ**: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏ü‡∏≠‡∏£‡πå‡∏°

## üìû ‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠

‡∏´‡∏≤‡∏Å‡∏û‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÅ‡∏à‡πâ‡∏á:
1. Error message ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡πá‡∏ô
2. Console logs ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
3. Network request/response
4. Backend logs (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
